<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CasalInvest 2026 | Ultimate System</title>

    <!-- React & Tailwind -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }

        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1e293b;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 3px;
        }

        /* Badges de Dificuldade */
        .badge-facil {
            background-color: #065f46;
            color: #6ee7b7;
            border: 1px solid #059669;
        }

        .badge-medio {
            background-color: #713f12;
            color: #fcd34d;
            border: 1px solid #d97706;
        }

        .badge-dificil {
            background-color: #7f1d1d;
            color: #fca5a5;
            border: 1px solid #dc2626;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // ==========================================================================================
        // 1. BANCO DE DADOS
        // ==========================================================================================

        const QUOTES = [
            "O sucesso √© a soma de pequenos esfor√ßos repetidos dia ap√≥s dia.",
            "A persist√™ncia √© o caminho do √™xito.",
            "N√£o espere por oportunidades, crie-as.",
            "O √∫nico lugar onde o sucesso vem antes do trabalho √© no dicion√°rio.",
            "Acredite que voc√™ pode, assim voc√™ j√° est√° no meio do caminho.",
            "Disciplina √© a ponte entre metas e realiza√ß√µes.",
            "Investir em conhecimento rende sempre os melhores juros."
        ];

        const MATERIAL_DB = {
            CPA: [
                { title: "Fluxo Circular da Renda", content: "Modelo que explica a circula√ß√£o de dinheiro e bens. Fam√≠lias ofertam trabalho e consomem; Empresas produzem e investem; Governo arrecada e gasta; Mercado intermedia. (Aula 1)" },
                { title: "Sistema Financeiro Nacional", content: "Normativos (CMN, CNSP, CNPC) apenas mandam. Supervisores (Bacen, CVM, Susep, Previc) fiscalizam. Operadores (Bancos, Bolsa) executam. O CMN √© o √≥rg√£o m√°ximo." },
                { title: "Conceitos Econ√¥micos", content: "PIB (Soma de bens/servi√ßos finais). Infla√ß√£o (IPCA = Meta; IGP-M = Aluguel). C√¢mbio PTAX (M√©dia do mercado calculada pelo Bacen). Taxa Selic Meta (Definida pelo COPOM) vs Selic Over (Mercado)." },
                { title: "Pol√≠ticas Econ√¥micas", content: "Fiscal (Impostos/Gastos - Super√°vit/D√©ficit Prim√°rio). Monet√°ria (Controle de liquidez via Compuls√≥rio, Redesconto, Open Market). Cambial (Swaps, Reservas)." },
                { title: "Renda Fixa & Duration", content: "Duration de Macaulay: Prazo m√©dio de recebimento (Risco). T√≠tulos: LFT (P√≥s), LTN (Pr√©), NTN-B (IPCA+). FGC garante R$ 250k." }
            ],
            C_PRO_R: [
                { title: "Suitability & Perfil", content: "An√°lise obrigat√≥ria do perfil do cliente (Conservador, Moderado, Arrojado). O objetivo √© garantir que o produto vendido seja adequado ao risco que o cliente tolera." },
                { title: "Finan√ßas Comportamentais", content: "Vieses: Ancoragem (Pre√ßo de refer√™ncia), Avers√£o √† Perda (Dor da perda > Prazer do ganho), Efeito Manada (Seguir a maioria), Excesso de Confian√ßa." },
                { title: "Previd√™ncia (PGBL x VGBL)", content: "PGBL: Abate 12% na completa (IR sobre total). VGBL: Ideal para simplificada (IR sobre rendimento). Tabela Regressiva (cai pra 10% ap√≥s 10 anos) vs Progressiva (conforme sal√°rio)." },
                { title: "Tributa√ß√£o de Investimentos", content: "A√ß√µes: 15% (Swing) e 20% (Day Trade). Fundos de A√ß√µes: 15% fixo. Come-cotas (Maio/Nov) em fundos RF/Multimercado: 15% (Longo Prazo) ou 20% (Curto Prazo)." }
            ],
            C_PRO_I: [
                { title: "Acordo de Basileia", content: "Basileia I, II e III. Foco em exig√™ncia de capital m√≠nimo para cobrir Risco de Cr√©dito, Mercado e Operacional. O √çndice de Basileia mede a solv√™ncia do banco." },
                { title: "Derivativos (Hedge)", content: "Op√ß√µes (Call/Put), Futuros, Termo e Swaps. Usados para prote√ß√£o (Hedge) ou alavancagem. Titular tem direito, Lan√ßador tem obriga√ß√£o." },
                { title: "Gest√£o de Risco", content: "VaR (Value at Risk): Perda m√°xima esperada. Stress Test: Cen√°rios extremos. Backtesting: Validar o modelo. √çndice de Sharpe: Retorno excedente sobre volatilidade." },
                { title: "Fundos Estruturados", content: "FIDC (Direitos Credit√≥rios - Cotas S√™nior/Subordinada), FII (Imobili√°rio - Isento IR mensal PF), FIP (Participa√ß√µes). Marca√ß√£o a Mercado (MaM) √© obrigat√≥ria." }
            ]
        };

        const QUESTION_TEMPLATES = {
            CPA: [
                { l: 'F√°cil', q: "Qual o √≥rg√£o normativo m√°ximo do SFN?", opts: ["Bacen", "CVM", "CMN", "BB"], a: 2, exp: "O Conselho Monet√°rio Nacional (CMN) √© o √≥rg√£o superior que dita as regras." },
                { l: 'F√°cil', q: "Quem calcula e divulga o IPCA?", opts: ["FGV", "IBGE", "Bacen", "Fipe"], a: 1, exp: "O IBGE √© respons√°vel pelo √≠ndice oficial de infla√ß√£o (IPCA)." },
                { l: 'F√°cil', q: "A taxa Selic Meta √© definida pelo:", opts: ["Mercado", "Bacen", "COPOM", "Presidente"], a: 2, exp: "O COPOM define a meta da Selic a cada 45 dias." },
                { l: 'M√©dio', q: "No Fluxo Circular da Renda, as Fam√≠lias:", opts: ["Arrecadam impostos", "Ofertam trabalho e consomem", "Emitem moeda", "Fiscalizam bancos"], a: 1, exp: "As fam√≠lias fornecem m√£o de obra e consomem bens/servi√ßos das empresas." },
                { l: 'M√©dio', q: "A Taxa PTAX, calculada pelo Bacen, representa:", opts: ["A infla√ß√£o do d√≥lar", "A m√©dia das taxas de c√¢mbio do mercado", "O juro americano", "O custo do turismo"], a: 1, exp: "PTAX √© a m√©dia ponderada das taxas de c√¢mbio praticadas no mercado interbanc√°rio." },
                { l: 'M√©dio', q: "O que acontece com o pre√ßo de um t√≠tulo pr√©-fixado se o juro sobe?", opts: ["Sobe", "Cai", "Fica igual", "Zera"], a: 1, exp: "Na Marca√ß√£o a Mercado, se o juro sobe, o Pre√ßo Unit√°rio (PU) do t√≠tulo cai." },
                { l: 'Dif√≠cil', q: "A Duration de Macaulay mede:", opts: ["O vencimento do t√≠tulo", "O risco de cr√©dito", "A sensibilidade do pre√ßo aos juros (prazo m√©dio)", "A liquidez"], a: 2, exp: "Duration √© o prazo m√©dio ponderado de recebimento dos fluxos, indicando o risco de mercado." },
                { l: 'Dif√≠cil', q: "Sobre o Acordo de Basileia, o foco principal √©:", opts: ["Regular o c√¢mbio", "Garantir solv√™ncia via capital m√≠nimo", "Reduzir a infla√ß√£o", "Aumentar o cr√©dito"], a: 1, exp: "Basileia exige que bancos tenham Patrim√¥nio de Refer√™ncia compat√≠vel com os riscos assumidos." }
            ],
            C_PRO_R: [
                { l: 'F√°cil', q: "Suitability √© o processo de:", opts: ["Lavagem de dinheiro", "Verificar adequa√ß√£o do produto ao perfil", "Cobran√ßa de IR", "Emiss√£o de a√ß√µes"], a: 1, exp: "√â a verifica√ß√£o obrigat√≥ria se o investimento condiz com o perfil de risco do cliente." },
                { l: 'F√°cil', q: "Para abater 12% na declara√ß√£o completa do IR, usa-se:", opts: ["VGBL", "CDB", "PGBL", "LCI"], a: 2, exp: "O PGBL permite o diferimento fiscal de at√© 12% da renda bruta tribut√°vel." },
                { l: 'M√©dio', q: "O vi√©s da Ancoragem ocorre quando o investidor:", opts: ["Segue a manada", "Se fixa a um pre√ßo/valor de refer√™ncia passado", "Tem medo de perder", "Opera demais"], a: 1, exp: "Ancoragem √© a depend√™ncia excessiva da primeira informa√ß√£o (pre√ßo √¢ncora) para decidir." },
                { l: 'M√©dio', q: "A al√≠quota m√≠nima de 10% na Tabela Regressiva exige prazo de:", opts: ["2 anos", "5 anos", "8 anos", "10 anos ou mais"], a: 3, exp: "Na tabela regressiva, as al√≠quotas caem a cada 2 anos, chegando a 10% ap√≥s 10 anos." },
                { l: 'Dif√≠cil', q: "No planejamento sucess√≥rio, o VGBL √© vantajoso pois:", opts: ["N√£o tem taxa de adm", "Geralmente n√£o entra em invent√°rio", "√â isento de IR sempre", "Garante rentabilidade"], a: 1, exp: "Em muitos estados, o VGBL √© considerado seguro de pessoa e transmitido diretamente aos benefici√°rios." },
                { l: 'Dif√≠cil', q: "Um cliente com avers√£o √† perda deve evitar:", opts: ["LFT", "CDB de grande banco", "Derivativos especulativos", "Fundo DI"], a: 2, exp: "Avers√£o √† perda √© um vi√©s emocional; produtos vol√°teis como derivativos causam dor desproporcional." }
            ],
            C_PRO_I: [
                { l: 'F√°cil', q: "O titular de uma Op√ß√£o de Compra (CALL) tem:", opts: ["A obriga√ß√£o de comprar", "O direito de comprar", "A obriga√ß√£o de vender", "O direito de vender"], a: 1, exp: "Quem compra a CALL (Titular) adquire o DIREITO de comprar o ativo-objeto." },
                { l: 'F√°cil', q: "O Fundo Garantidor de Cr√©dito (FGC) n√£o cobre:", opts: ["CDB", "LCI", "Deb√™ntures", "Poupan√ßa"], a: 2, exp: "Deb√™ntures s√£o t√≠tulos de cr√©dito corporativo (risco da empresa), sem garantia do FGC." },
                { l: 'M√©dio', q: "O √çndice de Sharpe calcula:", opts: ["Retorno absoluto", "Risco sist√™mico", "Retorno excedente sobre volatilidade", "Correla√ß√£o"], a: 2, exp: "Sharpe = (Retorno do Fundo - Risk Free) / Desvio Padr√£o. Mede efici√™ncia." },
                { l: 'M√©dio', q: "Em um FIDC, a cota que absorve preju√≠zos primeiro √© a:", opts: ["S√™nior", "Mezanino", "Subordinada", "Preferencial"], a: 2, exp: "A cota Subordinada funciona como um 'colch√£o' de prote√ß√£o para as cotas S√™nior." },
                { l: 'Dif√≠cil', q: "Para prote√ß√£o (Hedge) contra alta do D√≥lar, uma empresa deve:", opts: ["Vender D√≥lar Futuro", "Comprar D√≥lar Futuro ou Call de D√≥lar", "Vender Put de D√≥lar", "Comprar T√≠tulo P√∫blico"], a: 1, exp: "Quem tem d√≠vida em d√≥lar (passivo) precisa comprar d√≥lar. Para travar o pre√ßo, compra D√≥lar Futuro." },
                { l: 'Dif√≠cil', q: "O VaR (Value at Risk) estima:", opts: ["O ganho m√©dio", "A perda m√°xima esperada com dada confian√ßa", "O desvio padr√£o", "A duration"], a: 1, exp: "VaR √© uma medida estat√≠stica da perda m√°xima potencial em condi√ß√µes normais de mercado." }
            ]
        };

        const generateExam = (cert) => {
            const templates = QUESTION_TEMPLATES[cert];
            const easyTpl = templates.filter(t => t.l === 'F√°cil');
            const medTpl = templates.filter(t => t.l === 'M√©dio');
            const hardTpl = templates.filter(t => t.l === 'Dif√≠cil');

            const generateList = (source, count) => {
                const list = [];
                for (let i = 0; i < count; i++) {
                    const t = source[i % source.length];
                    list.push({
                        ...t,
                        id: Math.random().toString(36).substr(2, 9),
                        q: i >= source.length ? `${t.q} (Varia√ß√£o ${Math.floor(i / source.length) + 1})` : t.q
                    });
                }
                return list;
            };

            const exam = [
                ...generateList(easyTpl, 18),
                ...generateList(medTpl, 35),
                ...generateList(hardTpl, 17)
            ];

            return exam.sort(() => Math.random() - 0.5);
        };

        const FULL_EXAMS = {
            CPA: generateExam('CPA'),
            C_PRO_R: generateExam('C_PRO_R'),
            C_PRO_I: generateExam('C_PRO_I')
        };

        const ADM_GRADE_REAL = [
            {
                id: 1, title: "1¬∫ Semestre", subjects: [
                    { name: "Empreendedorismo e Inova√ß√£o", concept: "Estudo da cria√ß√£o de novos neg√≥cios e processos inovadores.", tip: "Use o Business Model Canvas para modelar ideias.", case: "An√°lise da trajet√≥ria da Nubank: de startup a IPO." },
                    { name: "Gest√£o de Indicadores", concept: "Defini√ß√£o e acompanhamento de KPIs para tomada de decis√£o.", tip: "Domine o BSC (Balanced Scorecard).", case: "Como o Google usa OKRs para alinhar metas globais." },
                    { name: "Planejamento Estrat√©gico", concept: "Defini√ß√£o da dire√ß√£o de longo prazo da organiza√ß√£o.", tip: "Foque na An√°lise SWOT e nas 5 For√ßas de Porter.", case: "A virada estrat√©gica da Magazine Luiza para o digital." },
                    { name: "Sistemas de Informa√ß√£o Gerencial", concept: "Uso de tecnologia (ERP, CRM) para suporte √† gest√£o.", tip: "Entenda a diferen√ßa entre dado, informa√ß√£o e conhecimento.", case: "Implementa√ß√£o do SAP em grandes ind√∫strias." },
                    { name: "Sociedade Brasileira e Cidadania", concept: "Contexto sociopol√≠tico e impacto das empresas na sociedade.", tip: "Relacione com ESG e responsabilidade social.", case: "Impacto social das a√ß√µes da Natura na Amaz√¥nia." }
                ]
            },
            {
                id: 2, title: "2¬∫ Semestre", subjects: [
                    { name: "An√°lise de Custos", concept: "Classifica√ß√£o e gest√£o de custos (Fixos, Vari√°veis, Diretos).", tip: "Pratique o c√°lculo de Ponto de Equil√≠brio.", case: "Como companhias a√©reas gerenciam custos de combust√≠vel." },
                    { name: "Gest√£o do Conhecimento", concept: "Cria√ß√£o, compartilhamento e uso do conhecimento corporativo.", tip: "Estude a Espiral do Conhecimento (SECI).", case: "Wiki interna e sistemas de li√ß√µes aprendidas na Petrobras." },
                    { name: "Legisla√ß√£o Empresarial Aplicada", concept: "Direito comercial, trabalhista e tribut√°rio para gestores.", tip: "Foque em Contratos e Tipos Societ√°rios (LTDA, S.A).", case: "Recupera√ß√£o Judicial das Lojas Americanas." },
                    { name: "Matem√°tica Financeira", concept: "Valor do dinheiro no tempo, juros e amortiza√ß√£o.", tip: "Domine a HP12c e fun√ß√µes financeiras do Excel.", case: "C√°lculo real de financiamento imobili√°rio (SAC vs Price)." },
                    { name: "M√©todos Quantitativos", concept: "Estat√≠stica aplicada √† administra√ß√£o para previs√µes.", tip: "Aprenda Regress√£o Linear e Probabilidade.", case: "Previs√£o de demanda de vendas no varejo." }
                ]
            },
            {
                id: 3, title: "3¬∫ Semestre", subjects: [
                    { name: "Comunica√ß√£o, Ci√™ncia e Tecnologia", concept: "Impacto da tecnologia na comunica√ß√£o corporativa.", tip: "Estude a evolu√ß√£o da comunica√ß√£o digital.", case: "Uso de IA (ChatGPT) na comunica√ß√£o interna de empresas." },
                    { name: "Contabilidade Introdut√≥ria", concept: "Balan√ßo Patrimonial, DRE e regime de compet√™ncia.", tip: "Entenda a l√≥gica de D√©bito e Cr√©dito.", case: "Leitura do Balan√ßo da Apple: Ativos x Passivos." },
                    { name: "Gest√£o da Inova√ß√£o", concept: "Gerenciamento do processo de inovar (Incremental x Radical).", tip: "Leia sobre o Dilema da Inova√ß√£o.", case: "A falha da Kodak em adotar a fotografia digital." },
                    { name: "Modelos de Gest√£o", concept: "Evolu√ß√£o das escolas de administra√ß√£o (Cl√°ssica a Contempor√¢nea).", tip: "Compare Taylorismo, Fayolismo e Toyotismo.", case: "Sistema Toyota de Produ√ß√£o (Lean Manufacturing)." },
                    { name: "Planejamento Financeiro e Or√ßament√°rio", concept: "Elabora√ß√£o de Budget, Forecast e controle or√ßament√°rio.", tip: "Pratique a cria√ß√£o de um Or√ßamento Base Zero (OBZ).", case: "Gest√£o or√ßament√°ria da Ambev (cultura de efici√™ncia)." },
                    { name: "Projeto de Extens√£o I", concept: "Aplica√ß√£o pr√°tica dos conhecimentos na comunidade.", tip: "Foque em resolver um problema real local.", case: "Consultoria j√∫nior para ONGs locais." }
                ]
            },
            {
                id: 4, title: "4¬∫ Semestre", subjects: [
                    { name: "Capital de Giro e An√°lise Financeira", concept: "Gest√£o de liquidez, Ciclo Operacional e Financeiro.", tip: "Monitore a NCG (Necessidade de Capital de Giro).", case: "Como o varejo financia estoques com prazo de fornecedores." },
                    { name: "Comportamento Organizacional e Negocia√ß√£o", concept: "Din√¢mica de grupos, lideran√ßa e resolu√ß√£o de conflitos.", tip: "Estude o M√©todo Harvard de Negocia√ß√£o.", case: "Negocia√ß√£o salarial coletiva em sindicatos." },
                    { name: "Guia de Percurso", concept: "Orienta√ß√£o acad√™mica e profissional.", tip: "Planeje sua carreira e certifica√ß√µes.", case: "Constru√ß√£o de um Plano de Desenvolvimento Individual (PDI)." },
                    { name: "Gest√£o Mercadol√≥gica na Era Digital", concept: "Marketing tradicional adaptado ao ambiente online.", tip: "Domine os 4Ps e Marketing de Conte√∫do.", case: "Estrat√©gia Omnichannel da Centauro." },
                    { name: "Teorias da Administra√ß√£o", concept: "Aprofundamento nas bases te√≥ricas da gest√£o.", tip: "Relacione teorias antigas com gest√£o √°gil moderna.", case: "Hierarquia vs Holocracia (Zappos)." }
                ]
            },
            {
                id: 5, title: "5¬∫ Semestre", subjects: [
                    { name: "An√°lise de Investimentos e Fontes de Financiamento", concept: "Decis√£o de investimento (Capex) e estrutura de capital.", tip: "Domine VPL, TIR e WACC.", case: "Decis√£o da Vale de investir em uma nova mina." },
                    { name: "Desenvolvimento de Pessoas", concept: "Treinamento, desenvolvimento e gest√£o de talentos.", tip: "Conhe√ßa o modelo 70:20:10 de aprendizado.", case: "Universidade Corporativa do Bradesco." },
                    { name: "Economia para Neg√≥cios", concept: "Micro e Macroeconomia aplicada √† gest√£o.", tip: "Acompanhe o Relat√≥rio Focus do Bacen.", case: "Impacto da alta da Selic no varejo de eletrodom√©sticos." },
                    { name: "Gest√£o da Produ√ß√£o", concept: "Planejamento e Controle da Produ√ß√£o (PCP).", tip: "Entenda Gargalos e Teoria das Restri√ß√µes.", case: "Log√≠stica de produ√ß√£o da Embraer." },
                    { name: "Projeto de Extens√£o II", concept: "Continuidade da aplica√ß√£o pr√°tica na comunidade.", tip: "Implemente melhorias baseadas no feedback do Projeto I.", case: "Workshop de finan√ßas para microempreendedores." }
                ]
            },
            {
                id: 6, title: "6¬∫ Semestre", subjects: [
                    { name: "Coaching e Mentoring", concept: "Ferramentas de desenvolvimento pessoal e profissional.", tip: "Diferencie Coaching (meta) de Mentoring (carreira).", case: "Programas de Mentoria para Trainees." },
                    { name: "Design Thinking e Inova√ß√£o", concept: "Abordagem centrada no ser humano para inova√ß√£o.", tip: "Pratique as fases: Empatia, Defini√ß√£o, Idea√ß√£o, Prototipagem.", case: "Redesign da experi√™ncia do paciente em hospitais." },
                    { name: "Gest√£o de Opera√ß√µes e Servi√ßos", concept: "Efici√™ncia em empresas prestadoras de servi√ßos.", tip: "Foque na gest√£o de filas e capacidade.", case: "Gest√£o operacional do Disney World." },
                    { name: "Mercado de Capitais", concept: "Funcionamento da Bolsa, IPOs e governan√ßa.", tip: "Simule uma carteira de investimentos na B3.", case: "O IPO do Nubank na NYSE." },
                    { name: "Pesquisa e Intelig√™ncia de Marketing", concept: "Coleta e an√°lise de dados para decis√µes de mercado.", tip: "Aprenda a criar e analisar pesquisas (Survey).", case: "Pesquisas de satisfa√ß√£o (NPS) da Netflix." }
                ]
            },
            {
                id: 7, title: "7¬∫ Semestre", subjects: [
                    { name: "Gest√£o de Projetos", concept: "Metodologias para iniciar, planejar, executar e fechar projetos.", tip: "Estude o PMBOK e Metodologias √Ågeis (Scrum).", case: "Constru√ß√£o de uma nova f√°brica ou lan√ßamento de software." },
                    { name: "Governan√ßa Corporativa", concept: "Sistema pelo qual empresas s√£o dirigidas e controladas.", tip: "Entenda os princ√≠pios: Transpar√™ncia, Equidade, Presta√ß√£o de Contas.", case: "Esc√¢ndalos corporativos (Enron) e a Lei Sarbanes-Oxley." },
                    { name: "Pesquisa Operacional", concept: "Modelagem matem√°tica para otimiza√ß√£o de decis√µes.", tip: "Use o Solver do Excel para problemas de transporte.", case: "Otimiza√ß√£o de rotas de entrega dos Correios." },
                    { name: "Processos Log√≠sticos", concept: "Fluxo de materiais, armazenagem e distribui√ß√£o.", tip: "Estude Supply Chain e Log√≠stica Reversa.", case: "Log√≠stica de entrega 'Same Day' do Mercado Livre." },
                    { name: "Projeto de Extens√£o III", concept: "Fase final de aplica√ß√£o pr√°tica e impacto social.", tip: "Me√ßa os resultados quantitativos do projeto.", case: "Relat√≥rio de impacto social de uma interven√ß√£o." }
                ]
            },
            {
                id: 8, title: "8¬∫ Semestre", subjects: [
                    { name: "An√°lise de Cr√©dito, Cobran√ßa e Risco", concept: "Avalia√ß√£o de risco de inadimpl√™ncia e recupera√ß√£o de cr√©dito.", tip: "Conhe√ßa os 5 Cs do Cr√©dito.", case: "Modelos de Score de Cr√©dito do Serasa." },
                    { name: "Avalia√ß√£o de Desempenho", concept: "M√©todos para medir a performance de colaboradores.", tip: "Estude a Avalia√ß√£o 360 graus.", case: "Sistema de metas e b√¥nus de bancos de investimento." },
                    { name: "Diagn√≥stico e Interven√ß√£o Empresarial", concept: "Consultoria interna: identificar problemas e propor solu√ß√µes.", tip: "Use o Diagrama de Ishikawa (Espinha de Peixe).", case: "Turnaround de uma empresa em crise." },
                    { name: "Gerenciamento da Cadeia de Suprimentos", concept: "Integra√ß√£o de fornecedores, fabricantes e distribuidores.", tip: "Entenda o Efeito Chicote na cadeia.", case: "Gest√£o da cadeia global da Apple." },
                    { name: "Responsabilidade Social e Ambiental", concept: "Pr√°ticas de sustentabilidade e impacto √©tico.", tip: "Aprofunde-se nos crit√©rios ESG.", case: "Iniciativas de carbono neutro de grandes corpora√ß√µes." },
                    { name: "Simula√ß√£o Empresarial", concept: "Jogos de neg√≥cios para simular gest√£o completa.", tip: "Participe ativamente dos jogos de empresa da faculdade.", case: "Competi√ß√£o global de simula√ß√£o de gest√£o." }
                ]
            }
        ];

        const TCC_IDEAS_GENERATOR = [
            { area: "Finan√ßas", title: "O Impacto da Alta da Selic na Estrutura de Capital de PMEs Industriais" },
            { area: "Marketing", title: "Marketing de Influ√™ncia: A Convers√£o de Vendas no Varejo de Moda via TikTok" },
            { area: "RH", title: "Teletrabalho H√≠brido: Impactos na Cultura Organizacional e Produtividade" },
            { area: "Log√≠stica", title: "Log√≠stica Reversa de Eletroeletr√¥nicos: Desafios na Cidade de S√£o Paulo" },
            { area: "Inova√ß√£o", title: "Ado√ß√£o de Intelig√™ncia Artificial no Atendimento ao Cliente Banc√°rio" },
            { area: "Estrat√©gia", title: "Estrat√©gias de Internacionaliza√ß√£o de Startups Brasileiras (Born Globals)" },
            { area: "Sustentabilidade", title: "Relat√≥rios de Sustentabilidade (GRI) e o Desempenho Financeiro das Empresas da B3" },
            { area: "Empreendedorismo", title: "Empreendedorismo Feminino: Barreiras de Acesso ao Cr√©dito no Brasil" }
        ];

        // ==========================================================================================
        // COMPONENTES
        // ==========================================================================================

        const Icon = ({ name, className }) => {
            const icons = {
                target: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="6" /><circle cx="12" cy="12" r="2" /></svg>,
                users: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M22 21v-2a4 4 0 0 0-3-3.87" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /></svg>,
                trending: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17" /><polyline points="16 7 22 7 22 13" /></svg>,
                briefcase: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2" /><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /></svg>,
                brain: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z" /><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z" /><path d="M12 5v13" /></svg>,
                check: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12" /></svg>,
                x: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18" /><path d="m6 6 12 12" /></svg>,
                search: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></svg>,
                home: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" /><polyline points="9 22 9 12 15 12 15 22" /></svg>,
                logOut: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" y1="12" x2="9" y2="12" /></svg>,
                trash: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18" /><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" /><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" /></svg>,
                plus: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" /></svg>,
                menu: <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="3" x2="21" y1="6" y2="6" /><line x1="3" x2="21" y1="12" y2="12" /><line x1="3" x2="21" y1="18" y2="18" /></svg>
            };
            return icons[name] || null;
        };

        const QuizSystem = ({ questions, color }) => {
            const [answers, setAnswers] = useState({});
            const [filter, setFilter] = useState('Todos');

            const handleSelect = (qId, optIdx) => {
                if (answers[qId] !== undefined) return;
                setAnswers(prev => ({ ...prev, [qId]: optIdx }));
            };

            const filteredQuestions = filter === 'Todos' ? questions : questions.filter(q => q.l === filter);

            const getStats = () => {
                const total = Object.keys(answers).length;
                let correct = 0;
                Object.keys(answers).forEach(qId => {
                    const q = questions.find(item => item.id === qId);
                    if (q && answers[qId] === q.a) correct++;
                });
                return { total, correct };
            };

            const stats = getStats();
            const progress = (stats.total / 70) * 100;

            return (
                <div className="space-y-6 fade-in">
                    <div className="bg-slate-800 p-4 rounded-xl border border-slate-700 sticky top-0 z-20 shadow-lg">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-4 mb-3">
                            <div className="flex gap-2">
                                {['Todos', 'F√°cil', 'M√©dio', 'Dif√≠cil'].map(l => (
                                    <button
                                        key={l}
                                        onClick={() => setFilter(l)}
                                        className={`px-3 py-1 rounded-full text-xs font-bold transition-all ${filter === l ? `bg-${color}-600 text-white` : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
                                    >
                                        {l}
                                    </button>
                                ))}
                            </div>
                            <div className="flex items-center gap-4">
                                <span className="text-slate-400 text-xs">Respondidas: <strong>{stats.total}/70</strong></span>
                                <div className="bg-slate-900 px-3 py-1 rounded border border-slate-700">
                                    <span className={`text-${color}-400 font-bold`}>{stats.correct}</span>
                                    <span className="text-slate-500 text-xs uppercase ml-1">Acertos</span>
                                </div>
                            </div>
                        </div>
                        <div className="w-full bg-slate-900 h-2 rounded-full overflow-hidden border border-slate-700">
                            <div className={`h-full bg-${color}-500 transition-all duration-500`} style={{ width: `${progress}%` }}></div>
                        </div>
                    </div>

                    <div className="space-y-4">
                        {filteredQuestions.map((q, idx) => {
                            const userAnswer = answers[q.id];
                            const isAnswered = userAnswer !== undefined;
                            const isCorrect = userAnswer === q.a;
                            const options = q.opts || [];
                            let badgeClass = "badge-facil";
                            if (q.l === 'M√©dio') badgeClass = "badge-medio";
                            if (q.l === 'Dif√≠cil') badgeClass = "badge-dificil";

                            return (
                                <div key={q.id} className="bg-slate-800 rounded-xl border border-slate-700 overflow-hidden shadow-sm">
                                    <div className="p-4 border-b border-slate-700 flex justify-between items-start gap-4">
                                        <div className="flex gap-3">
                                            <span className={`text-${color}-500 font-bold min-w-[24px]`}>{idx + 1}.</span>
                                            <h3 className="font-medium text-slate-200 text-sm md:text-base leading-snug">{q.q}</h3>
                                        </div>
                                        <span className={`text-[10px] uppercase font-bold px-2 py-0.5 rounded ${badgeClass}`}>
                                            {q.l}
                                        </span>
                                    </div>
                                    <div className="p-4 space-y-2 bg-slate-800/50">
                                        {options.map((opt, i) => {
                                            let btnClass = "w-full text-left p-3 rounded-lg text-sm transition-all border flex justify-between items-center ";
                                            if (isAnswered) {
                                                if (i === q.a) btnClass += "bg-emerald-500/20 border-emerald-500 text-emerald-400 font-bold";
                                                else if (i === userAnswer && !isCorrect) btnClass += "bg-red-500/20 border-red-500 text-red-400";
                                                else btnClass += "border-slate-700 text-slate-600 opacity-40";
                                            } else {
                                                btnClass += `border-slate-700 text-slate-300 hover:border-${color}-500 hover:bg-slate-700 cursor-pointer`;
                                            }
                                            return (
                                                <button key={i} onClick={() => handleSelect(q.id, i)} disabled={isAnswered} className={btnClass}>
                                                    <span>{String.fromCharCode(65 + i)}) {opt}</span>
                                                    {isAnswered && i === q.a && <Icon name="check" className="w-4 h-4" />}
                                                    {isAnswered && i === userAnswer && !isCorrect && <Icon name="x" className="w-4 h-4" />}
                                                </button>
                                            )
                                        })}
                                    </div>
                                    {isAnswered && (
                                        <div className={`p-4 text-sm border-t ${isCorrect ? 'bg-emerald-900/20 border-emerald-800' : 'bg-red-900/20 border-red-800'}`}>
                                            <p className="text-slate-300 leading-relaxed">
                                                <span className={`font-bold ${isCorrect ? 'text-emerald-400' : 'text-red-400'}`}>
                                                    {isCorrect ? 'CERTO! ' : 'ERRADO. '}
                                                </span>
                                                {q.exp}
                                            </p>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const TCCGenerator = () => {
            const [search, setSearch] = useState("");
            const [suggestion, setSuggestion] = useState(null);
            const generate = () => setSuggestion(TCC_IDEAS_GENERATOR[Math.floor(Math.random() * TCC_IDEAS_GENERATOR.length)]);
            const filtered = TCC_IDEAS_GENERATOR.filter(i => i.title.toLowerCase().includes(search.toLowerCase()) || i.area.toLowerCase().includes(search.toLowerCase()));

            return (
                <div className="grid md:grid-cols-2 gap-6">
                    <div className="bg-slate-800 p-6 rounded-xl border border-slate-700">
                        <h3 className="font-bold text-white mb-4 flex items-center gap-2"><Icon name="search" className="w-5 h-5" /> Pesquisa</h3>
                        <input type="text" placeholder="Ex: Finan√ßas, RH..." className="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:border-blue-500 outline-none mb-4" value={search} onChange={(e) => setSearch(e.target.value)} />
                        <div className="space-y-2 max-h-60 overflow-y-auto custom-scrollbar">
                            {filtered.map((item, i) => (
                                <div key={i} onClick={() => setSuggestion(item)} className="p-3 bg-slate-900/50 rounded border border-slate-800 hover:border-blue-500 cursor-pointer text-sm text-slate-300">
                                    <span className="text-[10px] text-blue-400 font-bold uppercase block mb-1">{item.area}</span>
                                    {item.title}
                                </div>
                            ))}
                        </div>
                    </div>
                    <div className="bg-gradient-to-br from-slate-800 to-slate-900 p-6 rounded-xl border border-slate-700 flex flex-col items-center justify-center text-center">
                        {suggestion ? (
                            <div className="fade-in">
                                <span className="text-xs font-bold text-blue-400 uppercase tracking-widest">Tema Sugerido</span>
                                <h2 className="text-xl font-bold text-white mt-2 mb-4">{suggestion.title}</h2>
                                <p className="text-xs text-slate-500">√Årea: {suggestion.area}</p>
                            </div>
                        ) : <div className="text-slate-500"><p>Clique abaixo para gerar</p></div>}
                        <button onClick={generate} className="mt-6 bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-6 rounded-full shadow-lg">Gerar Ideia</button>
                    </div>
                </div>
            );
        };

        const MindMap = () => (
            <div className="bg-slate-800 p-8 rounded-xl border border-slate-700 overflow-x-auto text-center">
                <div className="inline-block min-w-[600px]">
                    <div className="bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold mb-8 shadow-lg inline-block border border-emerald-500">Carreira 2026</div>
                    <div className="grid grid-cols-3 gap-8">
                        {['CPA (Base)', 'C-Pro R (Comercial)', 'C-Pro I (T√©cnico)'].map((t, i) => (
                            <div key={i} className="flex flex-col items-center space-y-4">
                                <div className="h-8 w-0.5 bg-slate-600 -mt-8"></div>
                                <div className={`px-4 py-2 rounded-lg border font-bold ${i === 0 ? 'bg-emerald-900/50 text-emerald-300 border-emerald-700' : i === 1 ? 'bg-blue-900/50 text-blue-300 border-blue-700' : 'bg-purple-900/50 text-purple-300 border-purple-700'}`}>{t}</div>
                                <div className="text-xs text-slate-400 bg-slate-900 p-3 rounded border border-slate-800 w-full">
                                    {i === 0 ? 'SFN, √âtica, Economia' : i === 1 ? 'Vendas, Perfil, CRM' : 'Derivativos, Risco, Estutura√ß√£o'}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const RealGrade = () => {
            const [open, setOpen] = useState(null);

            return (
                <div className="space-y-4">
                    {ADM_GRADE_REAL.map(sem => (
                        <div key={sem.id} className="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden">
                            <button
                                onClick={() => setOpen(open === sem.id ? null : sem.id)}
                                className="w-full flex justify-between items-center p-4 bg-slate-800 hover:bg-slate-700 transition"
                            >
                                <h3 className="font-bold text-white text-lg">{sem.title}</h3>
                                <span className={`text-slate-400 transition-transform ${open === sem.id ? 'rotate-180' : ''}`}>‚ñº</span>
                            </button>

                            {open === sem.id && (
                                <div className="p-4 grid md:grid-cols-1 gap-4 bg-slate-900/50 border-t border-slate-700 fade-in">
                                    {sem.subjects.map((sub, idx) => (
                                        <div key={idx} className="bg-slate-800 p-4 rounded-lg border border-slate-700 shadow-sm">
                                            <div className="flex items-center gap-2 mb-2">
                                                <div className="bg-blue-900/50 p-1.5 rounded text-blue-400"><Icon name="briefcase" className="w-4 h-4" /></div>
                                                <h4 className="font-bold text-blue-200">{sub.name}</h4>
                                            </div>
                                            <p className="text-sm text-slate-300 mb-3 leading-relaxed">{sub.concept}</p>

                                            <div className="grid md:grid-cols-2 gap-3 text-xs">
                                                <div className="bg-emerald-900/20 border border-emerald-800 p-2 rounded text-emerald-300">
                                                    <strong>üí° Dica de Estudo:</strong> {sub.tip}
                                                </div>
                                                <div className="bg-purple-900/20 border border-purple-800 p-2 rounded text-purple-300">
                                                    <strong>üìä Estudo de Caso:</strong> {sub.case}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
        };

        // --- NOVO COMPONENT: DASHBOARD HOME (Para Login e Tarefas) ---
        const HomeDashboard = ({ user, tasks, addTask, toggleTask, deleteTask }) => {
            const [newTask, setNewTask] = useState("");
            const [quote, setQuote] = useState("");

            useEffect(() => {
                setQuote(QUOTES[Math.floor(Math.random() * QUOTES.length)]);
            }, []);

            const handleAdd = (e) => {
                e.preventDefault();
                if (!newTask.trim()) return;
                addTask(newTask);
                setNewTask("");
            };

            const userTasks = tasks.filter(t => t.user === user);

            return (
                <div className="space-y-8 fade-in">
                    {/* Welcome & Quote */}
                    <div className="bg-gradient-to-r from-slate-800 to-slate-900 p-8 rounded-2xl border border-slate-700 shadow-xl relative overflow-hidden">
                        <div className="absolute top-0 right-0 p-8 opacity-5">
                            <Icon name="brain" className="w-48 h-48 text-white" />
                        </div>
                        <div className="relative z-10 flex justify-between items-start">
                            <div>
                                <h2 className="text-3xl font-bold text-white mb-2">Ol√°, <span className="text-emerald-400">{user}</span>! üëã</h2>
                                <p className="text-slate-400 italic text-lg">"{quote}"</p>
                            </div>
                        </div>
                    </div>

                    {/* Todo List */}
                    <div className="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h3 className="text-xl font-bold text-white mb-6 flex items-center gap-2">
                            <Icon name="check" className="w-6 h-6 text-emerald-500" /> Minhas Tarefas
                        </h3>

                        <form onSubmit={handleAdd} className="flex gap-2 mb-6">
                            <input
                                type="text"
                                placeholder="Adicionar nova tarefa..."
                                className="flex-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:border-emerald-500 outline-none"
                                value={newTask}
                                onChange={(e) => setNewTask(e.target.value)}
                            />
                            <button type="submit" className="bg-emerald-600 hover:bg-emerald-500 text-white p-3 rounded-lg transition">
                                <Icon name="plus" className="w-6 h-6" />
                            </button>
                        </form>

                        <div className="space-y-3">
                            {userTasks.length === 0 ? (
                                <p className="text-slate-500 text-center py-4">Nenhuma tarefa pendente. Aproveite o dia! üéâ</p>
                            ) : (
                                userTasks.map(task => (
                                    <div key={task.id} className="flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700 group hover:border-slate-600 transition">
                                        <div className="flex items-center gap-3">
                                            <button
                                                onClick={() => toggleTask(task.id)}
                                                className={`w-5 h-5 rounded border flex items-center justify-center transition ${task.completed ? 'bg-emerald-500 border-emerald-500 text-slate-900' : 'border-slate-500 hover:border-emerald-500'}`}
                                            >
                                                {task.completed && <Icon name="check" className="w-3 h-3 stroke-[4]" />}
                                            </button>
                                            <span className={`text-sm ${task.completed ? 'text-slate-500 line-through' : 'text-slate-200'}`}>{task.text}</span>
                                        </div>
                                        <button onClick={() => deleteTask(task.id)} className="text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition">
                                            <Icon name="trash" className="w-4 h-4" />
                                        </button>
                                    </div>
                                ))
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const Login = ({ onLogin }) => (
            <div className="min-h-screen flex items-center justify-center bg-slate-900 relative overflow-hidden">
                <div className="absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"></div>
                <div className="absolute w-96 h-96 bg-emerald-500/10 rounded-full blur-[120px] -top-20 -left-20"></div>
                <div className="absolute w-96 h-96 bg-blue-600/10 rounded-full blur-[120px] bottom-0 right-0"></div>

                <div className="relative z-10 glass p-12 rounded-3xl max-w-md w-full text-center border-t border-white/10 shadow-2xl fade-in">
                    <div className="w-20 h-20 bg-emerald-500/20 rounded-2xl flex items-center justify-center mx-auto mb-8 text-emerald-500 border border-emerald-500/30">
                        <span className="font-bold text-3xl">CI</span>
                    </div>
                    <h1 className="text-4xl font-bold text-white mb-2">CasalInvest</h1>
                    <p className="text-slate-400 font-mono text-sm uppercase tracking-widest mb-10">Pro System 2026</p>

                    <div className="grid grid-cols-2 gap-4">
                        <button onClick={() => onLogin('Wesley')} className="group relative bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-blue-500 p-6 rounded-2xl transition-all duration-300">
                            <div className="w-14 h-14 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center mx-auto mb-4 font-bold text-2xl border border-blue-500/30 group-hover:scale-110 transition-transform">W</div>
                            <span className="text-slate-300 font-bold group-hover:text-white">Wesley</span>
                        </button>
                        <button onClick={() => onLogin('Sara')} className="group relative bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-pink-500 p-6 rounded-2xl transition-all duration-300">
                            <div className="w-14 h-14 rounded-full bg-pink-500/20 text-pink-400 flex items-center justify-center mx-auto mb-4 font-bold text-2xl border border-pink-500/30 group-hover:scale-110 transition-transform">S</div>
                            <span className="text-slate-300 font-bold group-hover:text-white">Sara</span>
                        </button>
                    </div>
                </div>
            </div>
        );

        // --- APP PRINCIPAL ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [tab, setTab] = useState('HOME');
            const [subTab, setSubTab] = useState('material');
            const [admSub, setAdmSub] = useState('grade');
            const [sidebarOpen, setSidebarOpen] = useState(false); // Mobile sidebar state
            const [tasks, setTasks] = useState(() => {
                const saved = localStorage.getItem('casalinvest_tasks');
                return saved ? JSON.parse(saved) : [];
            });

            useEffect(() => {
                localStorage.setItem('casalinvest_tasks', JSON.stringify(tasks));
            }, [tasks]);

            const addTask = (text) => {
                setTasks([...tasks, { id: Date.now(), text, completed: false, user }]);
            };

            const toggleTask = (id) => {
                setTasks(tasks.map(t => t.id === id ? { ...t, completed: !t.completed } : t));
            };

            const deleteTask = (id) => {
                setTasks(tasks.filter(t => t.id !== id));
            };

            const handleLogin = (selectedUser) => {
                setUser(selectedUser);
                setTab('HOME');
            };

            const handleLogout = () => {
                setUser(null);
                setSidebarOpen(false);
            };

            // Helper to close sidebar on mobile when navigating
            const handleNavClick = (newTab) => {
                setTab(newTab);
                setSidebarOpen(false);
            };

            if (!user) return <Login onLogin={handleLogin} />;

            const renderCertTab = (key, color) => {
                // Novas descri√ß√µes mais explicativas e robustas
                const info = key === 'CPA'
                    ? { t: 'CPA (Base)', d: 'Certifica√ß√£o fundamental que valida conhecimentos sobre a estrutura do Sistema Financeiro Nacional, conceitos b√°sicos de economia, √©tica, regulamenta√ß√£o e as principais caracter√≠sticas dos produtos de investimento. Essencial para quem est√° iniciando na carreira banc√°ria e financeira.' }
                    : key === 'C_PRO_R'
                        ? { t: 'C-Pro R (Relacionamento)', d: 'Especializa√ß√£o voltada para profissionais de atendimento comercial e ger√™ncia. Aprofunda-se em t√©cnicas de vendas, finan√ßas comportamentais, planejamento financeiro pessoal, sucess√£o patrimonial e a adequa√ß√£o de produtos ao perfil do cliente (Suitability).' }
                        : { t: 'C-Pro I (Investimento)', d: 'Certifica√ß√£o avan√ßada para especialistas em investimentos. Foca na an√°lise t√©cnica de produtos complexos, gest√£o de riscos (mercado, cr√©dito, liquidez), estrat√©gias com derivativos, aloca√ß√£o de ativos e estrutura√ß√£o de carteiras de alta performance.' };

                return (
                    <div className="fade-in space-y-6">
                        <div className={`bg-${color}-900/20 border border-${color}-500/30 p-6 rounded-xl`}>
                            <h2 className={`text-2xl font-bold text-${color}-400 mb-2`}>{info.t}</h2>
                            <p className="text-slate-400 text-sm leading-relaxed">{info.d}</p>
                        </div>
                        <div className="flex gap-4 border-b border-slate-800 pb-1">
                            <button onClick={() => setSubTab('material')} className={`pb-2 px-4 text-sm font-bold transition ${subTab === 'material' ? `text-${color}-400 border-b-2 border-${color}-400` : 'text-slate-500 hover:text-white'}`}>Material de Apoio</button>
                            <button onClick={() => setSubTab('quiz')} className={`pb-2 px-4 text-sm font-bold transition ${subTab === 'quiz' ? `text-${color}-400 border-b-2 border-${color}-400` : 'text-slate-500 hover:text-white'}`}>Simulado (70 Quest√µes)</button>
                        </div>
                        {subTab === 'material' ? (
                            <div className="grid md:grid-cols-2 gap-6">
                                {MATERIAL_DB[key].map((m, i) => (
                                    <div key={i} className="bg-slate-800 p-6 rounded-xl border border-slate-700 hover:border-slate-600 transition">
                                        <h3 className={`text-${color}-400 font-bold mb-3`}>{m.title}</h3>
                                        <p className="text-slate-300 text-sm leading-relaxed">{m.content}</p>
                                    </div>
                                ))}
                            </div>
                        ) : <QuizSystem questions={FULL_EXAMS[key]} color={color} />}
                    </div>
                );
            };

            return (
                <div className="min-h-screen flex flex-col md:flex-row bg-slate-900 text-slate-200">

                    {/* Mobile Header */}
                    <div className="md:hidden flex items-center justify-between p-4 bg-slate-900 border-b border-slate-800 sticky top-0 z-50">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-emerald-600 rounded flex items-center justify-center font-bold text-white">CI</div>
                            <span className="font-bold text-lg text-white">CasalInvest</span>
                        </div>
                        <button onClick={() => setSidebarOpen(!sidebarOpen)} className="text-white p-2">
                            {sidebarOpen ? <Icon name="x" className="w-6 h-6" /> : <Icon name="menu" className="w-6 h-6" />}
                        </button>
                    </div>

                    {/* Sidebar Navigation */}
                    <nav className={`
                        fixed inset-y-0 left-0 transform ${sidebarOpen ? "translate-x-0" : "-translate-x-full"}
                        md:translate-x-0 md:static md:inset-auto md:w-64 md:h-screen
                        w-64 bg-slate-900 border-r border-slate-800 flex flex-col z-50 transition-transform duration-300 ease-in-out
                        h-screen shadow-2xl md:shadow-none
                    `}>
                        <div className="p-6 flex items-center gap-3 border-b border-slate-800 hidden md:flex">
                            <div className="w-8 h-8 bg-emerald-600 rounded flex items-center justify-center font-bold text-white">CI</div>
                            <span className="font-bold text-lg">CasalInvest <span className="text-emerald-500 text-xs align-top">2026</span></span>
                        </div>

                        <div className="p-4 space-y-2 flex-1 overflow-y-auto custom-scrollbar">
                            <div className="bg-slate-800 rounded-lg p-3 mb-4 flex items-center gap-3 border border-slate-700">
                                <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${user === 'Wesley' ? 'bg-blue-600' : 'bg-pink-600'}`}>
                                    {user[0]}
                                </div>
                                <div className="flex-1 overflow-hidden">
                                    <p className="text-sm font-bold text-white truncate">{user}</p>
                                    <p className="text-xs text-slate-500 truncate">Online</p>
                                </div>
                            </div>

                            <button onClick={() => handleNavClick('HOME')} className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition ${tab === 'HOME' ? 'bg-slate-800 text-white border border-slate-700' : 'text-slate-400 hover:text-white'}`}>
                                <Icon name="home" className="w-4 h-4" /> Home
                            </button>

                            <div className="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 px-2 mt-6">Certifica√ß√µes</div>
                            {['CPA', 'C_PRO_R', 'C_PRO_I'].map(c => (
                                <button key={c} onClick={() => handleNavClick(c)} className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition ${tab === c ? 'bg-slate-800 text-white border border-slate-700' : 'text-slate-400 hover:text-white'}`}>
                                    <Icon name={c === 'CPA' ? 'target' : c === 'C_PRO_R' ? 'users' : 'trending'} className="w-4 h-4" /> {c.replace('_', ' ').replace('_', ' ')}
                                </button>
                            ))}

                            <div className="text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 mt-6 px-2">Acad√™mico</div>
                            <button onClick={() => handleNavClick('ADM')} className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition ${tab === 'ADM' ? 'bg-slate-800 text-white' : 'text-slate-400 hover:text-white'}`}><Icon name="briefcase" className="w-4 h-4" /> ADM & TCC</button>
                            <button onClick={() => handleNavClick('MAP')} className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition ${tab === 'MAP' ? 'bg-slate-800 text-white' : 'text-slate-400 hover:text-white'}`}><Icon name="brain" className="w-4 h-4" /> Mapa Mental</button>
                        </div>

                        <div className="p-4 border-t border-slate-800">
                            <button onClick={handleLogout} className="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-400 hover:bg-red-500/10 hover:text-red-400 transition">
                                <Icon name="logOut" className="w-4 h-4" /> Sair
                            </button>
                        </div>
                    </nav>

                    {/* Mobile Overlay */}
                    {sidebarOpen && (
                        <div
                            className="fixed inset-0 bg-black/50 z-40 md:hidden"
                            onClick={() => setSidebarOpen(false)}
                        ></div>
                    )}

                    {/* Main Content Area */}
                    <main className="flex-1 p-4 md:p-8 overflow-y-auto h-[calc(100vh-64px)] md:h-screen bg-slate-900 relative">
                        <div className="fixed inset-0 pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"></div>
                        <div className="relative z-10 max-w-5xl mx-auto pt-4 md:pt-0">
                            {tab === 'HOME' && <HomeDashboard user={user} tasks={tasks} addTask={addTask} toggleTask={toggleTask} deleteTask={deleteTask} />}
                            {tab === 'CPA' && renderCertTab('CPA', 'emerald')}
                            {tab === 'C_PRO_R' && renderCertTab('C_PRO_R', 'blue')}
                            {tab === 'C_PRO_I' && renderCertTab('C_PRO_I', 'purple')}
                            {tab === 'ADM' && (
                                <div className="fade-in space-y-8">
                                    <div className="bg-slate-800 border border-slate-700 p-6 rounded-xl">
                                        <h2 className="text-2xl font-bold text-white mb-2">Administra√ß√£o</h2>
                                        <p className="text-slate-400">Grade curricular completa e laborat√≥rio de ideias para TCC.</p>
                                    </div>
                                    <div className="flex gap-4 border-b border-slate-800 pb-1">
                                        <button onClick={() => setAdmSub('grade')} className={`pb-2 px-4 text-sm font-bold transition ${admSub === 'grade' ? 'text-blue-400 border-b-2 border-blue-400' : 'text-slate-500 hover:text-white'}`}>Grade Curricular</button>
                                        <button onClick={() => setAdmSub('tcc')} className={`pb-2 px-4 text-sm font-bold transition ${admSub === 'tcc' ? 'text-blue-400 border-b-2 border-blue-400' : 'text-slate-500 hover:text-white'}`}>Gerador TCC</button>
                                    </div>
                                    {admSub === 'grade' ? <RealGrade /> : <TCCGenerator />}
                                </div>
                            )}
                            {tab === 'MAP' && <div className="fade-in space-y-8"><h2 className="text-2xl font-bold text-white">Mapa Mental de Carreira</h2><MindMap /></div>}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
